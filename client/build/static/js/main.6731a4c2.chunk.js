(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{329:function(e,t,a){e.exports=a(689)},334:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},689:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(305),c=a.n(s);a(334),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,o=a(7),l=a.n(o),u=a(10),m=a(9),p=a(12),d=a(16),v=a(15),h=(a(336),a(63)),b=a(11),f=(a(337),a(338),a(306)),g=a(27);!function(e){e[e.getAllVacations=0]="getAllVacations",e[e.addVacation=1]="addVacation",e[e.unFollowedVacations=2]="unFollowedVacations",e[e.getUserVacations=3]="getUserVacations",e[e.deleteVacation=4]="deleteVacation",e[e.getAllUsers=5]="getAllUsers",e[e.register=6]="register",e[e.login=7]="login",e[e.getUser=8]="getUser"}(i||(i={}));var E=Object(f.a)((function(e,t){var a=Object(g.a)({},e);switch(t.type){case i.getUser:a.userId=t.payload.userId,a.isAdmin=t.payload.isAdmin;break;case i.unFollowedVacations:a.unFollowedVacations=t.payload;break;case i.login:a.userId=t.payload.userId,a.isAdmin=t.payload.isAdmin;break;case i.getUserVacations:a.userVacations=t.payload;break;case i.getAllVacations:a.vacations=t.payload;break;case i.addVacation:a.vacations.push(t.payload)}return a}),new function e(){Object(m.a)(this,e),this.userId=void 0,this.isAdmin=void 0,this.userVacations=void 0,this.vacations=void 0,this.unFollowedVacations=void 0,this.vacations=new Array,this.unFollowedVacations=new Array,this.userVacations=new Array}),w=(a(340),a(308)),y=a.n(w).a.create({withCredentials:!0}),k=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"_initialize",value:function(){e.serverUrl="https://shir-vacation-project.herokuapp.com"}}]),e}();k.serverUrl=void 0,k._initialize();var S=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.state={userVacations:[]},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().userVacations;n.setState({userVacations:e})})),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E.getState().userId,e.next=4,y.get(k.serverUrl+"/api/vacations/"+t);case 4:a=e.sent,n=a.data,E.dispatch({type:i.getUserVacations,payload:n}),this.setState({userVacations:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"unFollowVacation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getState().userId,e.next=4,y.post(k.serverUrl+"/api/unfollow-vacation",{userId:a,vacationId:t});case 4:n=e.sent,r=n.data,s=r.followedVacations,c=r.unFollowedVacations,E.dispatch({type:i.getUserVacations,payload:s}),E.dispatch({type:i.unFollowedVacations,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"userVacations"},r.a.createElement("h3",null,"Vacations you are following:"),E.getState().userVacations.map((function(t){return r.a.createElement("div",{className:"vacation-card",key:t.vacationId},r.a.createElement("div",{className:"followCheck"},r.a.createElement("label",null,"Follow"),r.a.createElement("input",{type:"checkbox",checked:!0,onClick:function(){return e.unFollowVacation(t.vacationId)}})),r.a.createElement("p",{className:"location"},t.destination),r.a.createElement("p",{className:"description"},t.description),r.a.createElement("p",null,"From: ",new Date(t.startDate).toLocaleDateString()),r.a.createElement("p",null,"To: ",new Date(t.endDate).toLocaleDateString()),r.a.createElement("p",null,"Price: ",t.price,"$ "),r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/assets/images/"+t.vacationImg,alt:"vacation-Pic"})),r.a.createElement("br",null))})))}}]),a}(n.Component),O=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.state={vacations:[],userVacations:[]},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().userVacations;n.setState({userVacations:e})})),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get(k.serverUrl+"/api/vacations",{withCredentials:!0});case 3:t=e.sent,a=t.data,this.setState({vacations:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"isLogged",value:function(){E.getState().userId?(console.log(S),alert("vacation added to ur list")):alert("To follow vacations pls log in")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"vacations"},this.state.vacations.map((function(t){return r.a.createElement("div",{className:"vacation-card",key:t.vacationId},r.a.createElement("div",{className:"followCheck"},r.a.createElement("label",null,"FOLLOW  "),r.a.createElement("input",{type:"checkbox",onMouseOver:e.isLogged})),r.a.createElement("p",{className:"location"},t.destination),r.a.createElement("p",{className:"description"},t.description),r.a.createElement("p",null,"From: ",new Date(t.startDate).toLocaleDateString()),r.a.createElement("p",null,"To: ",new Date(t.endDate).toLocaleDateString()),r.a.createElement("p",null,"Price: ",t.price,"$ "),r.a.createElement("div",{className:"img-container"},r.a.createElement("p",null,"Following: ",t.totalFollowers),r.a.createElement("img",{src:"/assets/images/"+t.vacationImg,alt:"vacation-Pic"})))})))}}]),a}(n.Component),x=(a(358),function e(t,a,n,r,s,c,i,o){Object(m.a)(this,e),this.vacationId=t,this.destination=a,this.description=n,this.startDate=r,this.endDate=s,this.price=c,this.vacationImg=i,this.totalFollowers=o}),N=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.setDestination=function(e){var t=e.target.value,a=Object(g.a)({},n.state.vacation);a.destination=t,n.setState({vacation:a})},n.setDescription=function(e){var t=e.target.value,a=Object(g.a)({},n.state.vacation);a.description=t,n.setState({vacation:a})},n.setPrice=function(e){var t=+e.target.value,a=Object(g.a)({},n.state.vacation);a.price=t,n.setState({vacation:a})},n.setStartDate=function(e){var t=e.target.value,a=Object(g.a)({},n.state.vacation);a.startDate=new Date(t),n.setState({vacation:a})},n.setEndDate=function(e){var t=e.target.value,a=Object(g.a)({},n.state.vacation);a.endDate=new Date(t),n.setState({vacation:a})},n.isValidated=function(){var e=!0,t=n.state.vacation,a=t.destination,r=t.description,s=t.startDate,c=t.endDate,i=t.price;return a&&""!==a?r&&""!==r?!i||i<1?(alert("Please set price higher than 1"),e=!1):s?s<new Date?(alert("Start Date need to be in future timing"),e=!1):c?c<=new Date&&(alert("End Date need to be after start date"),e=!1):(alert("End Date is a must"),e=!1):(alert("Start Date is a must"),e=!1):(alert("description is required"),e=!1):(alert("destination name is required"),e=!1),e},n.addVacation=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isValidated()){e.next=13;break}return e.prev=1,e.next=4,y.post(k.serverUrl+"/api/vacations",n.state.vacation,{withCredentials:!0});case 4:t=e.sent,a=t.data,E.dispatch({type:i.addVacation,payload:a}),alert("Vacation added..."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert("Error: "+e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.deleteVacation=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.post(k.serverUrl+"/api/delete-vacation",{vacationId:t},{withCredentials:!0});case 3:return e.sent,e.next=6,y.get(k.serverUrl+"/api/vacations",{withCredentials:!0});case 6:a=e.sent,n=a.data,E.dispatch({type:i.getAllVacations,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),n.state={vacations:[],vacation:new x},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().vacations;n.setState({vacations:e})})),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get(k.serverUrl+"/api/vacations",{withCredentials:!0});case 3:t=e.sent,a=t.data,E.dispatch({type:i.getAllVacations,payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin-vacations"},r.a.createElement("div",{className:"insert vacation-card"},r.a.createElement("p",{className:"insert-header"},"Add vacation here:"),r.a.createElement("p",null," Location:"),r.a.createElement("input",{type:"text",onChange:this.setDestination,value:this.state.vacation.destination}),r.a.createElement("p",null," Description:"),r.a.createElement("input",{type:"text",onChange:this.setDescription,value:this.state.vacation.description}),r.a.createElement("p",null,"Start date:"),r.a.createElement("input",{type:"date",onChange:this.setStartDate}),r.a.createElement("p",null,"End date:"),r.a.createElement("input",{type:"date",onChange:this.setEndDate}),r.a.createElement("p",null," Price:"),r.a.createElement("input",{type:"number",onChange:this.setPrice,value:this.state.vacation.price}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"save",onClick:this.addVacation},"SAVE")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("h3",null,"Existing vacations"),E.getState().vacations.map((function(t){return r.a.createElement("div",{className:"vacation-card",key:t.vacationId},r.a.createElement("p",{className:"location"},t.destination),r.a.createElement("p",{className:"description"},t.description),r.a.createElement("p",null,"From: ",new Date(t.startDate).toLocaleDateString()),r.a.createElement("p",null,"To: ",new Date(t.endDate).toLocaleDateString()),r.a.createElement("p",null,"Price: ",t.price,"$ "),r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/assets/images/"+t.vacationImg,alt:"vacation-Pic"})),r.a.createElement("button",{className:"delete",onClick:function(){return e.deleteVacation(t.vacationId)}},"Delete vacation"),r.a.createElement("br",null))})))}}]),a}(n.Component),V=(a(359),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.state={userNotFollowVacations:[]},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().unFollowedVacations;n.setState({userNotFollowVacations:e})})),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E.getState().userVacations.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=E.getState().userId,e.next=6,y.get(k.serverUrl+"/api/not-following-vacations/"+t);case 6:a=e.sent,n=a.data,E.dispatch({type:i.unFollowedVacations,payload:n}),this.setState({userNotFollowVacations:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"followVacation",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.getState().userId,e.next=4,y.post(k.serverUrl+"/api/follow-vacation",{userId:a,vacationId:t});case 4:n=e.sent,r=n.data,s=r.followedVacations,c=r.unFollowedVacations,E.dispatch({type:i.getUserVacations,payload:s}),E.dispatch({type:i.unFollowedVacations,payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"userVacations"},r.a.createElement("h3",null,"Vacations you might be intrested in:"),this.state.userNotFollowVacations.map((function(t){return r.a.createElement("div",{className:"vacation-card",key:t.vacationId},r.a.createElement("div",{className:"followCheck"},r.a.createElement("label",null,"FOLLOW  "),r.a.createElement("input",{type:"checkbox",onClick:function(){return e.followVacation(t.vacationId)}})),r.a.createElement("p",{className:"location"},t.destination),r.a.createElement("p",{className:"description"},t.description),r.a.createElement("p",null,"From: ",new Date(t.startDate).toLocaleDateString()),r.a.createElement("p",null,"To: ",new Date(t.endDate).toLocaleDateString()),r.a.createElement("p",null,"Price: ",t.price,"$ "),r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"/assets/images/"+t.vacationImg,alt:"vacation-Pic"})),r.a.createElement("br",null))})))}}]),a}(n.Component)),j=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get(k.serverUrl+"/auth/get-user");case 3:t=e.sent,E.dispatch({type:i.getUser,payload:t.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return E.getState().userId?E.getState().isAdmin?r.a.createElement(N,null):r.a.createElement("div",{className:"home-page"},r.a.createElement(S,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(V,null)):r.a.createElement(O,null)}}]),a}(n.Component),D=(a(360),function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.updateUserName=function(e){return n.setState({userName:e.target.value})},n.updatePassword=function(e){return n.setState({password:e.target.value})},n.tryLogin=Object(u.a)(l.a.mark((function e(){var t,a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state,a=t.userName,r=t.password,!a||""===r){e.next=10;break}return e.next=5,y.post(k.serverUrl+"/auth/login",{userName:a,password:r});case 5:s=e.sent,console.log(s),200===s.status&&(E.dispatch({type:i.login,payload:s.data}),alert("Hi "+a+", Welcome back!"),n.props.history.push("/home")),e.next=11;break;case 10:alert("Please enter user name AND password");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert("user name and password do not match");case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.state={userName:"",password:"",userId:null},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().userId;n.setState({userId:e})})),n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"login-section"},r.a.createElement("h1",null,"Login page"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",onChange:this.updateUserName,value:this.state.userName,placeholder:"User name..."}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.state.password,placeholder:"Password",onChange:this.updatePassword}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:this.tryLogin},"Login")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null)),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component)),U=(a(361),function e(t,a,n,r,s,c){Object(m.a)(this,e),this.userId=t,this.firstName=a,this.lastName=n,this.userName=r,this.password=s,this.isAdmin=c}),I=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setFirstName=function(e){var t=e.target.value,a=Object(g.a)({},n.state.user);a.firstName=t,n.setState({user:a})},n.setLastName=function(e){var t=e.target.value,a=Object(g.a)({},n.state.user);a.lastName=t,n.setState({user:a})},n.setUserName=function(e){var t=e.target.value,a=Object(g.a)({},n.state.user);a.userName=t,n.setState({user:a})},n.setPassword=function(e){var t=e.target.value,a=Object(g.a)({},n.state.user);a.password=t,n.setState({user:a})},n.isValidated=function(){var e=!0,t=n.state.user,a=t.firstName,r=t.lastName,s=t.password,c=t.userName;return a&&""!==a?r&&""!==r?c&&""!==c?(!s||s.length<5)&&(alert("password must be at least 5 chars"),e=!1):(alert("Please choose a user name"),e=!1):(alert("Last name is required"),e=!1):(alert("First name is required"),e=!1),e},n.register=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isValidated()){e.next=11;break}return e.prev=1,e.next=4,y.post(k.serverUrl+"/auth/register",n.state.user,{withCredentials:!0});case 4:210===(t=e.sent).status?alert("User name already taken, please choose a different one..."):(a=t.data,E.dispatch({type:i.register,payload:a}),alert("You have been registered..."),n.props.history.push("/home")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error: "+e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),n.state={user:new U},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"register-page"},r.a.createElement("h1",null,"Registration page"),r.a.createElement("form",null,r.a.createElement("p",null,"First name: "),r.a.createElement("input",{type:"text",onChange:this.setFirstName,value:this.state.user.firstName}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Last name: "),r.a.createElement("input",{type:"text",onChange:this.setLastName,value:this.state.user.lastName}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"User name: "),r.a.createElement("input",{type:"text",onChange:this.setUserName,value:this.state.user.userName}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Password: "),r.a.createElement("input",{type:"password",onChange:this.setPassword,value:this.state.user.password}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:this.register},"Register")))}}]),a}(n.Component),C=(a(362),a(698)),F=a(702),L=a(704),A=a(699),P=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.state={userVacations:[],vacations:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E.getState().userVacations.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,y.get(k.serverUrl+"/api/vacations");case 5:t=e.sent,a=t.data,E.dispatch({type:i.getAllVacations,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=E.getState().vacations.filter((function(e){return e.totalFollowers>0})).map((function(e){return{vacationName:e.destination,followers:e.totalFollowers}}));return r.a.createElement("div",{className:"reports"},r.a.createElement(C.a,{width:1e3,theme:F.a.material,domainPadding:50},r.a.createElement(L.a,null),r.a.createElement(L.a,{dependentAxis:!0,tickFormat:function(e){return parseInt(e,10)}}),r.a.createElement(A.a,{data:e,x:"vacationName",y:"followers"})))}}]),a}(n.Component),W=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.state={userId:null},n.unsubscribeStore=E.subscribe((function(){var e=E.getState().userId;n.setState({userId:e})})),n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"logout",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post(k.serverUrl+"/auth/logout");case 2:window.location.href="http://localhost:3001";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[r.a.createElement(h.b,{to:"/home",exact:!0,key:"123456"}," Home")],t=r.a.createElement(h.b,{to:"/login",exact:!0,key:"123465"},r.a.createElement("span",null," | ")," Login"),a=r.a.createElement(h.b,{to:"/logout",exact:!0,key:"123434365",onClick:this.logout},r.a.createElement("span",null," | ")," Logout"),n=r.a.createElement(h.b,{to:"/register",exact:!0,key:"123564"},r.a.createElement("span",null," | ")," Register "),s=r.a.createElement(h.b,{to:"/reports",exact:!0,key:"1235647"},r.a.createElement("span",null," | ")," Reports ");return E.getState().userId||(e.push(t),e.push(n)),E.getState().isAdmin&&e.push(s),E.getState().userId&&e.push(a),r.a.createElement("div",{className:"layout"},r.a.createElement(h.a,null,r.a.createElement("nav",null,e),r.a.createElement("h1",{className:"Header"},"Any where you wanna go..."),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",{className:"main-container"},r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/home",component:j,exact:!0,key:"1"}),r.a.createElement(b.b,{path:"/login",component:D,exact:!0,key:"2"}),r.a.createElement(b.b,{path:"/register",component:I,exact:!0,key:"3"}),r.a.createElement(b.b,{path:"/admin",component:N,exact:!0,key:"4"}),r.a.createElement(b.b,{path:"/reports",component:P,exact:!0,key:"5"}),r.a.createElement(b.a,{from:"/",to:"/home"})))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"footer"},r.a.createElement("footer",null,"\xa9ShirDahan 2020")),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[329,1,2]]]);
//# sourceMappingURL=main.6731a4c2.chunk.js.map